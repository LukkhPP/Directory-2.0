<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/svg+xml" href="/oldJS/PIMD logo.svg">
    <title>PIMD</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">

    <link rel='stylesheet' href='https://cdn-uicons.flaticon.com/2.6.0/uicons-bold-rounded/css/uicons-bold-rounded.css'>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://kit.fontawesome.com/3ed0c6c00c.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="/container.css">
    <link rel="stylesheet" href="/style.css">

    <style>
      body {
        display: flex;
        flex-direction: column;
      }

      body,
      html {
        margin: 0;
        padding: 0;
        height: 100%;
      }

      #content {
        flex-grow: 1;
        min-height: 100vh;
      }

      #logos {
        flex-direction: row;

        pointer-events: none;
        user-select: none;
      }

      #OFCimg {
        background-color: rgba(106, 144, 226, 0.205);
        padding: 10px;
      }

      #logos img {
        width: 80px;
        /* Set image width (adjust as needed) */
        margin-left: 10px;
        /* Add spacing between images */
        overflow: hidden;
        filter: drop-shadow(0px 0px 4px #1876D6);
        pointer-events: none;
      }

      #logos img:first-child {
        margin-left: 0;
        /* Remove margin for the first image */
        pointer-events: none;
        overflow: hidden;
      }

      .navbar-brand:hover {
      color: #0d6efd;
      filter: grayscale();
      border: 0;

    }

     

      .PfpVince {
        min-width: 300px;
        max-width: 300px;
        height: calc(auto - 100px);
      }


     
    </style>

  </head>

  <body>
    <!-- Main content -->
    <div id="content" class="d-flex flex-column flex-grow-1">

      <!-- Navbar -->
      <nav class="navbar navbar-expand-lg border-bottom shadow-sm">
        <div class="container-fluid">

          <a class="navyG navbar-brand align-items-center text-center" style="user-select: none; margin-left: 5px;" href="/index.html"> <img src="/oldJS/PIMD logo.svg" alt="Terrible" width="40" height="40" style="margin-right: 3px;"><strong style="bottom: 0; padding-top: 10px;">PIMD</strong></a>

          <button class="navbar-toggler bg-white py-2" type="button" data-bs-toggle="collapse" data-bs-target="#nc"
            aria-controls="nc" aria-expanded="false" aria-label="Toggle navigation">
            <i class="fa fa-bars" style="color: rgb(28, 78, 185)"></i>
          </button>

          <div class="collapse navbar-collapse" id="nc">
            <ul class="navbar-nav ms-auto">
              <li class="nav-item">
                <a class="nav-link" style="user-select: none;" href="#">About</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" style="user-select: none;" href="/others/Contact.html">Contact</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>


      <!-- Header-->
      <header class="py-5 position-relative">
        <div class="container px-5 pb-5">
          <div class="row gx-5 align-items-center">
            <div class="col-xxl-5">
              <div class="text-center text-xxl-start Andy">
                <div class="badge bg-gradient-primary-to-secondary mb-2 mt-5">
                  <div class="text-uppercase" style="color: #1876D6;">Touch &middot; Navigate &middot; Explore</div>
                </div>
                <h1 class="display-5 fw-bolder">
                  <span class="text-gradient d-inline">Provincial Interactive Mapping Directory</span>
                </h1>
                <div class="fs-4 fw-light text-muted mb-4">
                  helps you find your destination here in Provincial Capitol
                </div>
              </div>
            </div>
            <div class="col-xxl-7">
              <div class="d-flex justify-content-center mt-5 mt-xxl-0">
                <div class="profile bg-gradient-primary-to-secondary">
                  <div id="container3D" class="position-absolute top-0 start-0 w-100 h-100 z-n1" style="z-index: -1;">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </header>




      <!-- About Section-->
      <section class="bg-light py-5">
        <div class="container px-5 mt-5">
          <div class="row gx-5 justify-content-center gap-5">
            <div class="col-xxl-5 ">
              <div class="text-center my-5">

                <h2 class="display-5 fw-bolder"><span class="text-gradient d-inline">About PIMD</span></h2>
                <p class="text-muted mb-4 mt-4 lh-lg">PIMD System is a user-friendly digital navigation tool designed
                  for the Provincial Capitol of Surigao del Norte. It provides an interactive map of all offices and
                  departments, helping visitors and employees easily locate their destinations. Displayed on public
                  touchscreen devices, PIMD ensures convenient and efficient wayfinding, especially for first-time
                  visitors or those unfamiliar with the Capitol layout. With its interactive touchscreen functionality,
                  users can quickly find office locations, department details, and directionsâ€”enhancing accessibility
                  and improving overall navigation within the Provincial Capitol.</p>

              </div>
            </div>

            <div class="col-xxl-6 justify-content-center align-items-center text-center my-5 ">
              <h2 class="display-5 fw-bolder"><span class="text-gradient d-inline">Developer</span></h2>
              <div class="fs-4 fw-light text-muted mb-1 ">Engr. Vincent Paul C. Pacleb
              </div>
              <div class="row d-flex flex-row justify-content-center align-items-center pt-3">

                <img class="PfpVince profile-img col-7 w-25 img-fluid align-self-baseline" src="/public/Vincent.png"
                  alt="..." id="container3D" />
                <p class="captionTxt text-muted mb-4 mt-4 lh-lg col-6 text-center">I'm Vincent Paul C. Pacleb, a Computer Engineering graduate from Systems Technology Institute in Surigao City. I currently work at the Provincial Information and Communications Technology Office (PICTO) as an Administrative Aide II, focusing on data visualization and system development. I am also the developer of this web system, designed for easy navigation.</p>
              </div>

            </div>

          </div>
        </div>
        <!--
        <div class="fs-4 fw-light text-muted mb-2 mt-4 text-center">For more informations about PIMD you can visit and
          ask the Provicial ICT Office on these socials:
        </div>

        <div class="d-flex justify-content-center fs-2 gap-4">
          <a class="text-gradient" href="https://www.facebook.com/PICTOSDN/" target="_blank"><i class="bi bi-facebook"></i></a>
          <a class="text-gradient" href="#!"><i class="bi bi-instagram" target="_blank"></i></a>
          <a class="text-gradient" href="#!"><i class="bi bi-envelope-fill" target="_blank"></i></a>
        </div>-->
      </section>


      <!-- scripts -->
      <script type="importmap">
      {
          "imports": {
              "three": "../node_modules/three/build/three.module.js",
              "three/addons/": "../node_modules/three/examples/jsm/",
              "three/zMath/": "../node_modules/three/src/math/",
              "three-pathfinding": "../node_modules/three-pathfinding/dist/three-pathfinding.module.js",
              "gsap": "../node_modules/gsap/index.js"
          }
      }
      </script>

      <script>
        document.addEventListener("DOMContentLoaded", () => {
    const navbarBrand = document.querySelector(".Andy");
    let sound = new Audio('/public/About.mp3');
    sound.volume = 0.3;

    // Ensure the user interacts with the page first
    document.addEventListener("click", () => {
        sound.play().catch(error => console.log("Audio play prevented:", error));
        sound.pause();
        sound.currentTime = 0; // Reset the audio
    }, { once: true }); // Runs only once

    navbarBrand.addEventListener("mouseenter", () => {
        navbarBrand.style.filter = "grayscale(100%)";
        sound.play().catch(error => console.log("Audio play prevented:", error));
    });

    navbarBrand.addEventListener("mouseleave", () => {
        navbarBrand.style.filter = "none";
        sound.pause();
        sound.currentTime = 0; // Reset audio
    });
});

      </script>

      <script type="module">
        import * as THREE from 'three';
        import { GLTFLoader } from 'three/addons/loaders/GLTFLoader.js';

        let contain, model, modelGroup;

        contain = document.getElementById('container3D');
        contain.style.flex = "1";
        contain.style.display = "flex";
        contain.style.overflow = "visible";

        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 5000);
        const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });

        renderer.setSize(contain.clientWidth, contain.clientHeight);
        renderer.setClearColor(0x000000, 0);
        renderer.shadowMap.enabled = true;
        scene.fog = new THREE.FogExp2(0x1876D6, 0.0005);

        contain.appendChild(renderer.domElement);

        // Create a parent group for rotation
        modelGroup = new THREE.Object3D();
        scene.add(modelGroup);

        const loader = new GLTFLoader();
        loader.load(
          '../public/Capitol.glb', // Replace with your model's path
          function (gltf) {
            model = gltf.scene;
            modelGroup.add(model);

            // Center the model
            const box = new THREE.Box3().setFromObject(model);
            const center = box.getCenter(new THREE.Vector3());
            const size = box.getSize(new THREE.Vector3());
            model.scale.set(5, 5, 5);

            model.position.sub(center); // Move model to (0,0,0)

            // Adjust camera position based on model size
            const maxSize = Math.max(size.x, size.y, size.z);
            const distance = maxSize * 1.75;
            const distance2 = maxSize * 1.75;
            camera.position.set(center.x, center.y + distance2, center.z + distance);
            camera.lookAt(center);

            // Call function to adjust model position based on screen size
            adjustModelPosition();
          },
          function (xhr) {
            console.log((xhr.loaded / xhr.total * 100) + '% loaded');
          },
          function (error) {
            console.error('An error happened', error);
          }
        );

        // Function to set model opacity
        function setModelOpacity(opacity) {
          if (!model) return;

          model.traverse((child) => {
            if (child.isMesh) {
              if (child.material) {
                child.material.transparent = true;
                child.material.opacity = opacity;
              }
            }
          });
        }

        // Function to adjust model position based on screen size
        function adjustModelPosition() {
          if (!modelGroup) return;

          if (window.innerWidth > 768) {
            // Desktop: Move model more to the left
            modelGroup.position.set(956, 0, 0);
            setModelOpacity(1)

          } else {
            // Mobile: Default position
            modelGroup.position.set(0, 0, 0);
            setModelOpacity(0.5)

          }
        }

        // Listen for window resize and update position dynamically
        window.addEventListener('resize', adjustModelPosition);

        // Animation loop with slow rotation
        function animate() {
          requestAnimationFrame(animate);

          if (modelGroup) {
            modelGroup.rotation.y += 0.002; // Slow and smooth rotation
          }

          renderer.render(scene, camera);
        }

        // Add lights
        const dirLight1 = new THREE.DirectionalLight(0xffffff, 5);
        dirLight1.position.set(1, 1, 1);
        scene.add(dirLight1);

        const dirLight2 = new THREE.DirectionalLight(0x1876D6, 5);
        dirLight2.position.set(-1, -1, -1);
        dirLight2.castShadow = true;
        dirLight2.shadow.mapSize.width = 2048;
        dirLight2.shadow.mapSize.height = 2048;
        dirLight2.shadow.camera.near = 0.5;
        dirLight2.shadow.camera.far = 500;
        scene.add(dirLight2);

        const dirLight3 = new THREE.DirectionalLight(0xffffff, 5);
        scene.add(dirLight3);

        const ambientLight = new THREE.AmbientLight(0x1876D6);
        scene.add(ambientLight);

        animate();

        // Resize handling
        function resizeRenderer() {
          const width = contain.clientWidth;
          const height = contain.clientHeight;
          renderer.setSize(width, height);
          camera.aspect = width / height;
          camera.updateProjectionMatrix();
        }

        window.addEventListener('resize', resizeRenderer);
        resizeRenderer();


      </script>

      <!-- Footer-->
      <footer class="bg-white py-4 mt-auto">
        <div class="container px-5">
          <div class="row align-items-center justify-content-between flex-column flex-sm-row">
            <div class="col-auto">
              <div class="small m-0">Copyright &copy; PIMD 2025</div>
            </div>
            <div class="col-auto mt-3" id="logos">
              <img src="/public/PSDN.png" id="PSDNlogo" alt="PSDN Logo">
              <img src="/public/Photo/Picto.png" id="Pictologo" alt="Picto Logo">
            </div>
          </div>
        </div>
      </footer>

    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
      crossorigin="anonymous"></script>


  </body>

</html>